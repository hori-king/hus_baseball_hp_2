<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: common_head('試合管理')}"></head>
<body>
	<div th:replace="~{fragments/admin_header :: common_admin_header}"></div>
	
	<main class="mt-5">
		<div class="container">
			<div>
				<h1>試合管理</h1>
				<a th:href="@{/admin/matches/new}" class="btn btn-primary mt-4">新規登録</a>
			</div>
			
			<div th:if=${successMessage} class="alert alert-success mt-4" th:text="${successMessage}"></div>
			<div th:if=${errorMessage} class="alert alert-danger mt-4" th:text="${errorMessage}"></div>
			
			<table class="table table-striped table-hover mt-5">
				<thead class="table-dark">
					<tr>
						<th scope="col" class="match_name">対戦相手</th>
						<th scope="col" class="match_date">試合日</th>
						<th scope="col" class="match_venue">球場</th>
						<th scope="col" class="match_our">得点</th>
						<th scope="col" class="match_opponent">失点</th>
						<th scope="col" class="match_result">試合結果</th>
						<th scope="col" class="match_comment">コメント</th>
						<th scope="col" class="match_photo">写真</th>
						<th scope="col" class="match_operation">操作</th>
					</tr>
				</thead>
				
				<tbody>
					<tr th:each="match : ${matchList}" th:object="${match}">
						<td th:text="*{opponent}">対戦相手</td>
						<td th:text="*{#temporals.format(matchDate, 'yyyy-MM-dd')}">試合日</td>
						<td th:text="*{venue}">球場</td>
						<td th:text="*{ourScore}">得点</td>
						<td th:text="*{opponentScore}">失点</td>
						<td th:text="*{result}">試合結果</td>
						<td th:text="*{comment}">コメント</td>
						<td th:text="*{photo}">写真</td>
						<td>
							<a th:href="@{/admin/matches/{id}/edit(id=*{id})}" class="btn btn-sm btn-outline-primary">編集</a>
							<form th:action="@{/admin/matches/{id}/delete(id = *{id})}" method="post" class="d-inline" onsubmit="return confirm('本当に削除しますか？')">
								<button type="submit" class="btn btn-sm btn-outline-danger">削除</button>
							</form>
						</td>
					</tr>
				</tbody>
			</table>
			
		</div>
	</main>
	
	<div th:replace="~{fragments/admin_footer :: common_admin_footer}"></div>
</body>
</html>